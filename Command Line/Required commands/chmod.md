# chmod
ファイルやディレクトリのパーミッションを設定する<br>
chmodコマンドには「シンボルモード」による指定と「数値モード」による指定の２種類の方法がある。
### パーミッションとは
一つ一つのファイルには、「誰が、どのように操作を許可するか」という権限を規定する情報が設定されている。この情報のことをパーミッションという。

### パーミッション
| 記号 | 内容 |
| :--- | :--- |
| r | 読み取り (read) | 
| w | 書き込み (write) |
| x | 実行 (execute) |

### ディレクトリのパーミッション
| 記号 | 内容 |
| :--- | :--- |
| r | 読み取り：ディレクトリに含まれるファイル一覧の取得 | 
| w | 書き込み：ディレクトリの下にあるファイル・ディレクトリの作成・削除 |
| x | 実行：ディレクトリをカレントディレクトリにする |

# オプション
| オプション | 内容 |
| :--- | :--- |
| -f | エラーメッセージを表示しない | 
| -c | コマンド実行時に変更があったときのみ結果を表示 | 
| -v | コマンド実行時に詳細を表示 | 
| -R | ディレクトリ内の複数のファイルも変更対象とする |

# シンボルモード
シンボルモードの指定は、「誰に、どのような権限を追加するのか」ということがわかりやすい
```
chmod [ugoa] [+-=] [rwx] <ファイル名>
```
### ユーザ指定
| 記号 | 内容 |
| :--- | :--- |
| u | オーナー | 
| g | グループ |
| o | その他のユーザ |
| a | ugoすべて |

### 権限の追加、禁止
| 記号 | 内容 |
| :--- | :--- |
| + | 権限を追加する | 
| - | 権限を禁止する |
| = | 指定した権限と等しくする |

## シンボルモードで動作確認
### すべてに権限を付与

```
% ls -l shell_01.sh
-rwxr-xr-x  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
% chmod a=rwxrwxrwx shell_01.sh
% ls -l shell_01.sh
-rwxrwxrwx  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
```
### オーナー以外は書き込み、実行はできない
```
% ls -l shell_01.sh
-rwxrwxrwx  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
% chmod go=r shell_01.sh
% ls -l shell_01.sh     
-rwxr--r--  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
```

# 数値モード
```
chmod <８進数の数値> <ファイル名>
```
### パーミッションの数値
| 数値 | 内容 |
| :--- | :--- |
| 4 | 読み取り(r) | 
| 2 | 書き込み(w) |
| 1 | 実行(x) |

足した値を、「オーナー」「グループ」「その他のユーザ」の順に３つ並べて指定

## 数値モードで動作確認
### すべての権限を付与
```
% ls -l shell_01.sh 
-rwxr--r--  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
% chmod 777 shell_01.sh
% ls -l shell_01.sh    
-rwxrwxrwx  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
```
### グループは読み取りのみ、その他ユーザは実行のみ
```
-rwxrwxrwx  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
% chmod 741 shell_01.sh
% ls -l shell_01.sh    
-rwxr----x  1 matsubaragenki  staff  146  8  3 13:22 shell_01.sh
```

### モード使い分け
- シンボルモードはパーミッションの一部だけを変更したいとき
- 数値モードは元のパーミッションに関わらず新しいパーミッションの値へと変更するとき


# 使いそうな場面
ファイルやディレクトリのパーミッションを設定するとき
