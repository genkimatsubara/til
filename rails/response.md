# Railsにおけるリクエストからレスポンスまでの流れについて説明してください

### リクエストからレスポンスまでの流れについて（GET編）
- `/users`というパスに対してGETリクエストがWebサーバに送られる。<br>
（POSTではなくGETを使う理由は、一覧表示ではデータの書き換えは必要ではなく、データを取得したいだけなのでGETを使う)
- WebサーバがGETリクエストを受け取り`routes.rb`の`resources :users`により、それに対応するコントローラのアクションが呼び出される。
- コントローラで全ユーザーのデータを取得する。
```
def index
  @users = User.all
end
```
（この記述だけでデータベースからデータを取得できる理由は、RailsにはモデルにActiveRecordが継承されているので、Rubyを用いてBDからデータを探したり、持ってくることができる。）
- indexアクションに紐づくindex.html.erbを編集する<br>
@users.eachでuserオブジェクト一つずつ取り出し表示することができる。
```
<% @users.each do |user| %>
    <li>
      <%= user.name, user %>
    </li>
  <% end %>
```

（データベースに検索されるタイムングはindexアクションでUser.allされたときではなく、検索結果が必要なタイミングで行われるので、今回の場合は@users.eachが呼ばれた時）
- Webサーバからindex.html.erbで編集したHTML形式のレスポンスが返される。
- Webブラウザが処理して画面にユーザー一覧が表示される
