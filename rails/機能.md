# 検索機能
- Ransackのインストール
```
gem 'ransack'
```
bundleを使ってインストール

- 名称による検索
コントローラのindexアクションに使う
```
def index
  # 検索オブジェクト
  @search = Product.ransack(params[:q])
  # 検索結果
  @products = @search.result
end
 ```
 params[:q]には、検索パラメーターが渡されるから、それを@search = Product.ransack(params[:p]とすれば、@searchという検索オブジェクトが作られる。さらにこの@searchに対して@products=@search.resultとしてあげれば検索結果が得られる。
 
  ビュー
 ```
 = search_form_for @search, class: 'mb-5' do |f|
  .form-group.row
    = f.label :name_cont, '名称', class: 'col-sm-2 col-form-label'
    .col-sm-10
      = f.search_field :name_cont, class: 'form-control'
  .form-group
    = f.submit class: 'btn btn-outline-primary'
```
sesrch_form_forはform_forのRansack版で、引数に検索オブジェクト@searchをとすることで検索フォームを作れる。f.search_field :name_contはnameに対してLIKE句を利用した部分一致検索ができるようになる
