# 参照渡し｜値渡しについて
## 参照渡し

Rubyの変数にはオブジェクトそのものではなく、オブジェクトへの参照が格納される。<br>
変数をほかの変数に代入したり、メソッドの引数として渡したりすると、新しい変数やメソッドの引数は元の変数と同じオブジェクトを参照する。<br>
変数がどのオブジェクトを参照しているのかは`object_idメソッド`を使うとわかる。<br>
同じオブジェクトを参照している場合、オブジェクトの状態が変更されると、その変更がそのまま各変数に影響する。<br>
文字列や配列、ハッシュといった変更可能なオブジェクトを扱う場合は、同一のオブジェクトを参照しているのか、異なるオブジェクトを参照しているのかを意識しないと、思いがけないバグを作り込んでしまうことがある。

## 値渡し
値渡しとは、変数の値をコピーする渡し方
仮引数を変更しても、それが実引数には反映されない。

「値渡し (call by value)」とは、変数の値をコピーする渡し方です。
「参照渡し (call by reference)」とは、変数を共有するような渡し方です。


a = 'hello'
b = 'hello'

# aとbはどちらとも同じ文字列だが、オブジェクトとしては別物
p a.object_id
p b.object_id

# cにbを代入する。bとcはどちらも同じオブジェクト
c = b
p c.object_id

# メソッドの引数にcを渡す。引数として受け取ったdはb,cと同じオブジェクト
def m(d)
  d.object_id
end

p m(c)

# 渡された文字列を破壊的に大文字に変更するメソッドを定義
def m!(d)
  d.upcase!
end

# cにm!メソッドを適応
p m!(c)

# b,cはいずれも大文字になる
p b
p c

# aは別のオブジェクトなので大文字にならない
p a

# 元の配列も変更される
array = ['red', 'blue', 'green']

def reverse(x)
  x.reverse!
end

# object_idは一緒
p array.object_id
reverse(array)
p array.object_id

# 値渡し

a = 1

def sum(x)
  x += 1
end

# 変数aの値は変わらない
p a
p sum(a)
p a

